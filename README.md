# 2023Portofolio-readme

# 20230502　ポートフォリオ作ってみる

# Portforio【React × NestJS × AWS】

## [https://d2lv2q5x40zv09.cloudfront.net/](https://d2lv2q5x40zv09.cloudfront.net/)

frontend: https://github.com/Takuya-Ishida-Axhiz/202305Portofolio-frontend

backend: https://github.com/Takuya-Ishida-Axhiz/202305Portofolio-backend

## About

本ポートフォリオは、Web開発3年目の見習いエンジニアのわたくしによるポートフォリオです。

簡易的な

制作目的は以下です。

- 直近半年間で学んだことをアウトプットし自身の知識として定着させること
- 自身のエンジニアとしての価値を評価してもらう材料にすること

そのため本ReadMeには、

備忘録的に使用した技術の説明とポイントの解説を入れるようにしています。

*「フロントエンドが得意で、より無駄のない実装ができそう」*

*「バックエンド・インフラの構築もよくある構成ならできそう」*

*「ユーザー視点でどうすれば使いやすいかを常に考えながら動いてくれそう」*

*「ビジネスサイドのコスト・スピード感も考えながら提案・実装してくれそう」*

こんな感じの印象付けができたなら万々歳です。

ちなみに、

良さげな題材が思いつかなかったので先日大学時代のOB・OGで行ったライブのURLをCRUDできる管理画面のようなものを作ってみました。

私はオープニングアクトとキタニタツヤをやらせてもらいました。楽しかったです。

では、いってみましょう。

要素技術

- Frontend
    - react
    - recoil
    - antd
    - dataloader
    - vite
- Backend
    - NestJS
    - DynamoEasy
    - Serverless Framework
- Infra
    - S3
    - CloudFront
    - Lambda
    - DynamoDB
    - APIGateway

## Point

### recoil × dataloader でリクエストを最適化し無駄のないAPICallを行う

一般的なリストをDBから取得するAPIを作る上で、以下の点に注意する必要があります。

- DynamoDBを使う場合、データ読み込み時に都度Scanをしていないか
- レコードが多い場合、一件ずつ取得してしまっていないか

DynamoDBではScanはテーブル内のすべてのデータを取得するので、

一部編集した後一覧画面に戻った場合などでも都度Scanを叩くと読み込みキャパシティを消費しすぎてしまい、処理速度的にも利用料金的にもよろしくありません。

よって、

recoil × dataloader を使い、 ids:array[] を引数にBatchGetするように組むことで、

引数のidsの中で変更があったもののみを変更をかけています。

これはPKを起点としたQueryになるので読み込みキャパシティを無駄にしません。

また、idの数だけリクエストを送りつけることなく、dataloaderがひとつのリクエストとしてとりまとめてくれるためAPICallにも無駄がありません。

### antd でより高速に一般的に求められる綺麗なUIを提供

antd はUIライブラリのひとつで、簡単に一定基準の品質のテーブルやモーダルなどを提供できます。

※デザインは綺麗で好きなのですが、テーブルの扱いなどに少しクセがある気がするのと、あまり公式ドキュメントが親切でないところがあります。（今勤めている会社で標準技術なので使っています）

個人的にはChakraUIなどの方が直感的で好きかもしれません。TailWindや Material UIも触ったことがある程度なので比較してみたいところ。

UIライブラリを使った一般的な管理画面を早く作るのは得意なのですが、

そのプロダクトが持つブランド性を決めるようなデザイン・フォント・UIの配置などを追求することにおいては完全に素人なので、今後はそういった方面を伸ばしていきたいと思っています。

### vite でホットリロード&高速デプロイ

viteを使うことでホットリロードや高速デプロイを実現しており、メンバーによりよい開発者体験をもたらし、プロジェクトにスピード感を持たせています。

[https://ja.vitejs.dev/](https://ja.vitejs.dev/)

### DynamoEasy でより簡易にDBとやりとりする

AWSSDKで直接DynamoDBとやりとりすることもできますが、

〇〇などの理由ですこし書きにくいことがあります。

DynamoEasyを使うことで直感的に記述することができます。

### S3 + CloudFront でコストパフォーマンスの高いフロントエンドデプロイ

S3に置いたビルドファイルでフロントエンドをデプロイしているので、より低コストでサービスを運用することができます。

### Serverless Frameworkを使い、Lambda上にNestJSアプリケーションをデプロイ

ECS、Fargateを用いたNestJSのデプロイが主流かと思いますが、よりミニマムなサービスを想定してServerlessにデプロイをしてみました。

 Lambdaなので使った分だけの請求になり、スタートアップなどではよりコストを抑えた開発を行うことができます。
